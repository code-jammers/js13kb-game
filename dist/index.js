changeScene=n=>{if(cs=GAME_DATA.allScenes.find(e=>e===n),cs){GAME_DATA.currentScene=cs;var e=document.querySelector("[in-progress]");switch(e&&document.body.removeChild(e),cs){case GAME_SCENE:renderWebComponent("sd-game-scene");break;case LAUNCH_SCENE:renderWebComponent("sd-launch-scene");break;default:LOADING_SCENE;renderWebComponent("sd-loading-scene")}}},renderWebComponent=e=>{let n=document.createElement(e);n.setAttribute("in-progress",!0),n.style.cssText="opacity: 0; display: block; transition: opacity .3s",document.body.appendChild(n),setTimeout(()=>{n.style.opacity="1"},200)},changeScene(LOADING_SCENE),addEventListener("scene-change",e=>{changeScene(e.detail)}),Promise.all(["sd-button","sd-game-scene","sd-launch-scene"].map(e=>customElements.whenDefined(e))).then(e=>{console.log(e.length,"all async web components defined"),setTimeout(()=>{changeScene(GAME_SCENE)},1e3)}),addEventListener("show-game",e=>changeScene(GAME_SCENE)),addEventListener("show-controls",e=>alert("coming soon"));