function tower_decode(e){return e.charCodeAt(0).toString(2).padStart(8,"0")}function create_tower(e,t){var n=document.getElementById("container"),l="fire-tower",o=document.createElement("div");o.innerHTML="{"+e+"}",o.frost="1"==t[7],o.frost&&(l="frost-tower");l=document.createElement(l);return l.appendChild(o),n.appendChild(l),o}function stack(){6==_sid&&(document.getElementById("stack").style.visibility="hidden"),4==_sid&&_sid++;var e=_sid,t=document.getElementById("tower0").parentElement.getBoundingClientRect(),n={left:t.left,top:t.top};5<=_sid&&(n.left+=200);var l=[{x:11,y:-23},{x:29,y:-3},{x:12,y:-3},{x:29,y:13}];n.left<400&&(n.left+=400,n.top+=25);var o=0==e?1:1/(e+1),r=-1;4<=_sid&&(r=4);for(var i,d=4<=_sid?5:0;r<e;)(i=document.getElementById("tower"+e)).parentElement.style.left=n.left+"px",i.parentElement.style.top=n.top+"px",i.parentElement.style.position="absolute",i.style.fontSize="35pt",i.style.opacity=o,e!=d&&(i.innerHTML=i.innerHTML.replace("{","").replace("}",""),i.parentElement.style.left=n.left+"px",i.style.fontSize="15pt",i.style.left=(p=l[e%4]).x+"px",i.style.top=p.y+"px"),e--,o+=1/_sid;(i=document.getElementById("tower"+(_sid+1))).parentElement.style.position="absolute",i.parentElement.style.left=n.left+"px",i.parentElement.style.top=n.top+"px",i.style.fontSize="15pt",i.innerHTML=i.innerHTML.replace("{","").replace("}",""),i.style.opacity=.5;var p=l[(_sid+1)%4];i.style.left=p.x+"px",i.style.top=p.y+"px",_sid+=1}document.addEventListener("DOMContentLoaded",function(){for(var e=GAME_DATA.towers,t=0;t<e.length;t++){var n=create_tower(e[t],tower_decode(e[t]));n.id="tower"+t,createBullet(n)}}),_sid=0;